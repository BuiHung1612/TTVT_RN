<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RN New Architecture — Reconciler & Yoga Layout</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Theme & base */
      html,
      body {
        margin: 0;
        padding: 0;
      }
      .slide {
        width: 100%;
        min-height: 100vh;
        position: relative;
        overflow: hidden;
      }
      .gradient-bg {
        background: linear-gradient(135deg, #37306a 0%, #9d174d 100%);
      }
      .glass {
        background: rgba(255, 255, 255, 0.14);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.22);
      }
      .chip {
        background: rgba(255, 255, 255, 0.14);
        border: 1px solid rgba(255, 255, 255, 0.24);
        border-radius: 9999px;
        padding: 6px 12px;
        display: inline-block;
      }
      .caption {
        font-size: 12px;
        opacity: 0.9;
      }
      pre {
        background: rgba(3, 7, 18, 0.55);
        color: #fff;
        border-radius: 14px;
        padding: 12px;
      }

      /* Nodes & arrows */
      .node {
        border-radius: 18px;
        padding: 14px 16px;
        min-width: 180px;
        text-align: center;
        color: #fff;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        transition: 0.25s ease;
      }
      .node:hover {
        transform: translateY(-6px) scale(1.02);
        box-shadow: 0 20px 44px rgba(0, 0, 0, 0.35);
      }
      .arrow {
        position: relative;
        height: 3px;
        background: rgba(255, 255, 255, 0.85);
        border-radius: 999px;
        margin: 0 14px;
        overflow: hidden;
      }
      .arrow:after {
        content: "";
        position: absolute;
        right: -10px;
        top: -8px;
        width: 0;
        height: 0;
        border-left: 15px solid rgba(255, 255, 255, 0.85);
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
      }
      .arrow::before {
        content: "";
        position: absolute;
        left: -25%;
        top: -2px;
        width: 25%;
        height: 7px;
        border-radius: 999px;
        background: #fff;
        animation: slide 1.8s linear infinite;
      }
      @keyframes slide {
        0% {
          left: -25%;
        }
        100% {
          left: 105%;
        }
      }

      /* Appear */
      .fade {
        opacity: 0;
        transform: translateY(14px);
        animation: fadeUp 0.7s ease forwards;
      }
      .d1 {
        animation-delay: 0.05s;
      }
      .d2 {
        animation-delay: 0.1s;
      }
      .d3 {
        animation-delay: 0.15s;
      }
      .d4 {
        animation-delay: 0.2s;
      }
      .d5 {
        animation-delay: 0.25s;
      }
      .d6 {
        animation-delay: 0.3s;
      }
      .d7 {
        animation-delay: 0.35s;
      }
      .d8 {
        animation-delay: 0.4s;
      }
      @keyframes fadeUp {
        to {
          opacity: 1;
          transform: none;
        }
      }

      /* Glow accents */
      .glow {
        position: absolute;
        width: 240px;
        height: 240px;
        filter: blur(60px);
        opacity: 0.32;
        border-radius: 9999px;
      }
      .g1 {
        background: radial-gradient(
          circle at 30% 30%,
          #a78bfa,
          transparent 60%
        );
        top: 12%;
        left: 4%;
        animation: float 8s ease-in-out infinite;
      }
      .g2 {
        background: radial-gradient(
          circle at 60% 60%,
          #fb7185,
          transparent 60%
        );
        bottom: 8%;
        right: 6%;
        animation: float 10s ease-in-out infinite reverse;
      }
      @keyframes float {
        0% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0);
        }
      }

      /* Layout helpers */
      .grid-col {
        display: grid;
        grid-template-rows: auto 1fr;
        gap: 12px;
      }
      .pill {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 9999px;
        background: rgba(255, 255, 255, 0.12);
        border: 1px solid rgba(255, 255, 255, 0.25);
      }
    </style>
    <style>
      /* conservative scale-up helpers (applies across slides) */
      html {
        font-size: 14px;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <div class="slide gradient-bg flex flex-col">
      <!-- Glows -->
      <div class="glow g1"></div>
      <div class="glow g2"></div>

      <!-- Header -->
      <div class="pt-4 py-2 px-8 md:px-12">
        <h1
          class="text-3xl md:text-4xl font-extrabold text-white drop-shadow fade d1"
        >
          Reconciler (Fiber) & Yoga Layout
        </h1>
        <p class="text-white/90 mt-2 max-w-3xl fade d2">
          Cách React Native quyết định <em>hiển thị gì</em> và
          <em>đặt ở đâu</em> trước khi chuyển sang UI Native.
        </p>
      </div>

      <!-- Code snippet -->
      <div class="px-8 md:px-12 fade d3">
        <div class="glass text-white rounded-2xl p-5 max-w-3xl shadow-2xl">
          <div class="flex items-center justify-between gap-3">
            <div class="text-lg font-semibold">Ví dụ JSX</div>
            <span class="chip">Input</span>
          </div>
          <pre class="mt-3 overflow-auto"><code>export default function Card() {
  return (
    &lt;View style={{padding:12}}&gt;
      &lt;Text style={{fontWeight:'600'}}&gt;Hello&lt;/Text&gt;
      &lt;Text&gt;World&lt;/Text&gt;
    &lt;/View&gt;
  );
}</code></pre>
        </div>
      </div>

      <!-- Two-column explanation -->
      <div class="flex-1 px-8 md:px-12 py-6 grid md:grid-cols-2 gap-6">
        <!-- Left: Reconciler -->
        <div class="grid-col fade d4">
          <div class="flex items-center justify-between">
            <h2 class="text-white text-2xl font-bold">Reconciler (Fiber)</h2>
            <span class="pill text-white/90 text-sm"
              >Quyết định hiển thị gì</span
            >
          </div>
          <div class="glass rounded-2xl p-4 text-white">
            <div class="flex items-center justify-center flex-wrap">
              <div class="node glass">
                <div class="font-semibold">JSX → Elements</div>
                <div class="caption">createElement</div>
              </div>
              <div class="arrow"></div>
              <div class="node glass">
                <div class="font-semibold">Fiber Tree</div>
                <div class="caption">Mỗi component = 1 fiber</div>
              </div>
              <div class="arrow"></div>
              <div class="node glass">
                <div class="font-semibold">Diff & Priorities</div>
                <div class="caption">So sánh & lập lịch</div>
              </div>
            </div>

            <ul class="mt-4 space-y-2 text-white/95 text-sm">
              <li>
                • **Fiber** là cấu trúc dữ liệu đại diện node UI (unit of work).
              </li>
              <li>
                • **Diff** xác định phần nào thay đổi; không re-render toàn bộ.
              </li>
              <li>
                • **Scheduler** ưu tiên công việc quan trọng (UI mượt hơn).
              </li>
            </ul>
          </div>
        </div>

        <!-- Right: Yoga -->
        <div class="grid-col fade d5">
          <div class="flex items-center justify-between">
            <h2 class="text-white text-2xl font-bold">Yoga Layout</h2>
            <span class="pill text-white/90 text-sm">Quyết định đặt ở đâu</span>
          </div>
          <div class="glass rounded-2xl p-4 text-white">
            <div class="flex items-center justify-center flex-wrap">
              <div class="node glass">
                <div class="font-semibold">Input: Styles</div>
                <div class="caption">flexDirection, padding...</div>
              </div>
              <div class="arrow"></div>
              <div class="node glass">
                <div class="font-semibold">Compute Layout</div>
                <div class="caption">Đo & tính kích thước</div>
              </div>
              <div class="arrow"></div>
              <div class="node glass">
                <div class="font-semibold">Shadow Tree</div>
                <div class="caption">Vị trí (x,y,w,h)</div>
              </div>
            </div>

            <ul class="mt-4 space-y-2 text-white/95 text-sm">
              <li>• **Flexbox** rules được Yoga áp dụng để sắp xếp con.</li>
              <li>
                • **Measure** gọi lại cho text/image khi cần tính kích thước.
              </li>
              <li>• Kết quả là **Shadow Tree** với toạ độ/khung cụ thể.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Combined high-level flow -->
      <div class="px-8 md:px-12 pb-8 fade d6">
        <div class="glass rounded-2xl p-4 text-white">
          <div class="text-sm uppercase tracking-wide opacity-90 mb-2">
            Tổng quan
          </div>
          <div class="flex items-center justify-center flex-wrap">
            <div class="node glass">Reconciler (Fiber)</div>
            <div class="arrow"></div>
            <div class="node glass">Yoga Layout</div>
            <div class="arrow"></div>
            <div class="node glass">Fabric Shadow Tree</div>
            <div class="arrow"></div>
            <div class="node glass">Mounting → UI Native</div>
          </div>
          <p class="text-white/90 caption mt-3">
            Reconciler quyết định **cái gì** cần đổi; Yoga quyết định **đặt ở
            đâu**; Fabric/Mounting biến kế hoạch thành **UI thật**.
          </p>
        </div>
      </div>

      <!-- Footer -->
      <div
        class="bg-gray-800 bg-opacity-50 py-3 px-12 flex justify-between items-center"
      >
        <div class="text-white text-sm">
          Phòng vận hành và bảo trì sản phẩm - DevTalk
        </div>
        <div class="text-white text-sm">07/22</div>
      </div>
    </div>
  </body>
</html>
